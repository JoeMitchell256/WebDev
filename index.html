<!DOCTYPE html>
<html>
  <head>
    <title>Visualizing Fourier Coefficients</title> <!-- Title of our website in browser -->
    <link rel="stylesheet" type="text/css" href="style.css">
    <canvas id="back" width="1420" height="500" style="border:1px solid #000000"></canvas>
    <canvas id="myCanvas" width="1420" height="500" style="border:1px solid #000000"></canvas>
    <script> <!-- type="text/javascript" src="script.js" -->
      
      <!-- Prompts for the user to choose their pulse function -->
      
      //var pulsefunction = window.prompt("Please enter a pulse function (4 values (0 or 1) from 0 to 2pi): ");
      //var n = parseInt(window.prompt("Please enter a value of n: "));
      
      
      <!-- Beginning of graph construction -->
      
      <!-- Develop textboxes for user input -->
      
      
      
      var c = document.getElementById("myCanvas");
      var ctx = c.getContext("2d");
        
      
      
      function getInputValue(){
        
        var pulsefunction = document.getElementById("pulse").value;
        var n = document.getElementById("n").value;
      
        <!-- Place everything in here? -->
        
        //Take input as an array of values split on single space
        
        var i = 0;
        var pulsearray = pulsefunction.split(" ");
      
        //In a for loop find the maximum/minimum value, use the absolute value so you'll only be using positive numbers as reference
        
        var max = -Infinity;
        
        for(i = 0; i < pulsearray.length; i++){
          if(Math.abs(parseInt(pulsearray[i])) > max){
            max = Math.abs(parseInt(pulsearray[i]));
          }
        }
        
        //By this point we should know our y scale. Whatever our max value is we should have that be our max positive/negative range. 
        //This might not work as I am expecting it to work, however thats alright we'll do it now, then change it later if so.
        
      
        <!-- End of input reading -->
        
        c = document.getElementById("myCanvas");
        ctx = c.getContext("2d");
        
        ctx.clearRect(0,0,1420,500);
        ctx.beginPath(); //Apparently we need this line???
        
        //We should probably draw the y and x axis here, so that we can properly scale the graph first...
        // I'd love to do this, but javascript wont let me...
        
        
        
        <!-- This is the start of the square wave -->
        <!-- Any state transitions will require 3 lines, not 2. -->
        <!-- pi/2 and 2pi/2 are tied to 5pi/2 and 6pi/2, and 9pi/2 and 10pi/2 -->

        if(pulsefunction[0] === '0' && pulsefunction[1] === '0')
        {
          ctx.strokeStyle = '#ff0000';
          ctx.moveTo(100,250);
          ctx.lineTo(100+(450/4),250);
          ctx.lineWidth = 10;

          ctx.moveTo(100,250);
          ctx.lineTo(100+(450/2),250);

          <!-- Second Period -->

          ctx.moveTo(100+450,250);
          ctx.lineTo(100+(450/4)+450,250);

          ctx.moveTo(100+(450/4)+450,250);
          ctx.lineTo(100+(450/2)+450,250);

          <!-- Third Period -->

          ctx.moveTo(100+450+450,250);
          ctx.lineTo(100+(450/4)+450+450,250);

          ctx.moveTo(100+(450/4)+450+450,250);
          ctx.lineTo(100+(450/2)+450+450,250);


          ctx.stroke();
          <!-- Reset Line features -->
          ctx.strokeStyle = '#000000';
          ctx.lineWidth = 1;  
        }
        if(pulsefunction[0] === '0' && pulsefunction[1] === '1')
        {
          ctx.strokeStyle = '#ff0000';
          ctx.moveTo(100,250);
          ctx.lineTo(100+(450/4),250);
          ctx.lineWidth = 10;

          ctx.moveTo(100+(450/4),250);
          ctx.lineTo(100+(450/4),205);

          ctx.moveTo(100+(450/4),205);
          ctx.lineTo(100+(450/2),205);

          <!-- Period 2 -->

          ctx.moveTo(100+450,250);
          ctx.lineTo(100+(450/4)+450,250);

          ctx.moveTo(100+(450/4)+450,250);
          ctx.lineTo(100+(450/4)+450,205);

          ctx.moveTo(100+(450/4)+450,205);
          ctx.lineTo(100+(450/2)+450,205);

          <!-- Period 3 -->

          ctx.moveTo(100+450+450,250);
          ctx.lineTo(100+(450/4)+450+450,250);

          ctx.moveTo(100+(450/4)+450+450,250);
          ctx.lineTo(100+(450/4)+450+450,205);

          ctx.moveTo(100+(450/4)+450+450,205);
          ctx.lineTo(100+(450/2)+450+450,205);

          ctx.stroke();
          <!-- Reset Line features -->
          ctx.strokeStyle = '#000000';
          ctx.lineWidth = 1;  
        }
        if(pulsefunction[0] === '1' && pulsefunction[1] === '0')
        {
          ctx.strokeStyle = '#ff0000';
          ctx.moveTo(100,205);
          ctx.lineTo(100+(450/4),205);
          ctx.lineWidth = 10;

          ctx.moveTo(100+(450/4),205);
          ctx.lineTo(100+(450/4),250);

          ctx.moveTo(100+(450/4),250);
          ctx.lineTo(100+(450/2),250);

          <!-- Period 2 -->

          ctx.moveTo(100+450,205);
          ctx.lineTo(100+(450/4)+450,205);

          ctx.moveTo(100+(450/4)+450,205);
          ctx.lineTo(100+(450/4)+450,250);

          ctx.moveTo(100+(450/4)+450,250);
          ctx.lineTo(100+(450/2)+450,250);

          <!-- Period 3 -->

          ctx.moveTo(100+450+450,205);
          ctx.lineTo(100+(450/4)+450+450,205);

          ctx.moveTo(100+(450/4)+450+450,205);
          ctx.lineTo(100+(450/4)+450+450,250);

          ctx.moveTo(100+(450/4)+450+450,250);
          ctx.lineTo(100+(450/2)+450+450,250);

          ctx.stroke();
          <!-- Reset Line features -->
          ctx.strokeStyle = '#000000';
          ctx.lineWidth = 1;  
        }
        if(pulsefunction[0] === '1' && pulsefunction[1] === '1')
        {
          ctx.strokeStyle = '#ff0000';
          ctx.moveTo(100,205);
          ctx.lineTo(100+(450/4),205);
          ctx.lineWidth = 10;

          ctx.moveTo(100+(450/4),205);
          ctx.lineTo(100+(450/2),205);

          <!-- Period 2 -->

          ctx.moveTo(100+450,205);
          ctx.lineTo(100+(450/4)+450,205);

          ctx.moveTo(100+(450/4)+450,205);
          ctx.lineTo(100+(450/2)+450,205);

          <!-- Period 3 -->

          ctx.moveTo(100+450+450,205);
          ctx.lineTo(100+(450/4)+450+450,205);

          ctx.moveTo(100+(450/4)+450+450,205);
          ctx.lineTo(100+(450/2)+450+450,205);


          ctx.stroke();
          <!-- Reset Line features -->
          ctx.strokeStyle = '#000000';
          ctx.lineWidth = 1;  
        }



        <!-- Now we go from pi to 3pi/2 -->

        if(pulsefunction[1] === '0' && pulsefunction[2] === '0')
        {
          ctx.strokeStyle = '#ff0000';
          ctx.moveTo(100+(450/2),250);
          ctx.lineTo(100+((450*3)/4),250);
          ctx.lineWidth = 10;


          <!-- Period 2 -->

          ctx.moveTo(100+(450/2)+450,250);
          ctx.lineTo(100+((450*3)/4)+450,250);

          <!-- Period 3 -->

          ctx.moveTo(100+(450/2)+450+450,250);
          ctx.lineTo(100+((450*3)/4)+450+450,250);

          ctx.stroke();
          <!-- Reset Line features -->
          ctx.strokeStyle = '#000000';
          ctx.lineWidth = 1;  
        }

        if(pulsefunction[1] === '0' && pulsefunction[2] === '1')
        {
          ctx.strokeStyle = '#ff0000';
          ctx.moveTo(100+(450/2),250);
          ctx.lineTo(100+(450/2),205);
          ctx.lineWidth = 10;

          ctx.moveTo(100+(450/2),205);
          ctx.lineTo(100+((450*3)/4),205);


          <!-- Period 2 -->

          ctx.moveTo(100+(450/2)+450,250);
          ctx.lineTo(100+(450/2)+450,205);

          ctx.moveTo(100+(450/2)+450,205);
          ctx.lineTo(100+((450*3)/4)+450,205);

          <!-- Period 3 -->

          ctx.moveTo(100+(450/2)+450+450,250);
          ctx.lineTo(100+(450/2)+450+450,205);

          ctx.moveTo(100+(450/2)+450+450,205);
          ctx.lineTo(100+((450*3)/4)+450+450,205);

          ctx.stroke();
          <!-- Reset Line features -->
          ctx.strokeStyle = '#000000';
          ctx.lineWidth = 1;  
        }

        if(pulsefunction[1] === '1' && pulsefunction[2] === '0')
        {
          ctx.strokeStyle = '#ff0000';
          ctx.moveTo(100+(450/2),205);
          ctx.lineTo(100+(450/2),250);
          ctx.lineWidth = 10;

          ctx.moveTo(100+(450/2),250);
          ctx.lineTo(100+((450*3)/4),250);


          <!-- Period 2 -->

          ctx.moveTo(100+(450/2)+450,205);
          ctx.lineTo(100+(450/2)+450,250);

          ctx.moveTo(100+(450/2)+450,250);
          ctx.lineTo(100+((450*3)/4)+450,250);

          <!-- Period 3 -->

          ctx.moveTo(100+(450/2)+450+450,205);
          ctx.lineTo(100+(450/2)+450+450,250);

          ctx.moveTo(100+(450/2)+450+450,250);
          ctx.lineTo(100+((450*3)/4)+450+450,250);

          ctx.stroke();
          <!-- Reset Line features -->
          ctx.strokeStyle = '#000000';
          ctx.lineWidth = 1;  
        }

        if(pulsefunction[1] === '1' && pulsefunction[2] === '1')
        {
          ctx.strokeStyle = '#ff0000';
          ctx.moveTo(100+(450/2),205);
          ctx.lineTo(100+((450*3)/4),205);
          ctx.lineWidth = 10;


          <!-- Period 2 -->

          ctx.moveTo(100+(450/2)+450,205);
          ctx.lineTo(100+((450*3)/4)+450,205);

          <!-- Period 3 -->

          ctx.moveTo(100+(450/2)+450+450,205);
          ctx.lineTo(100+((450*3)/4)+450+450,205);

          ctx.stroke();
          <!-- Reset Line features -->
          ctx.strokeStyle = '#000000';
          ctx.lineWidth = 1;  
        }

        <!-- 0 to 2pi -->

        if(pulsefunction[2] === '0' && pulsefunction[3] === '0')
        {
          ctx.strokeStyle = '#ff0000';
          ctx.moveTo(100+((450*3)/4),250);
          ctx.lineTo(100+450,250);
          ctx.lineWidth = 10;


          <!-- Period 2 -->

          ctx.moveTo(100+((450*3)/4)+450,250);
          ctx.lineTo(100+450+450,250);

          <!-- Period 3 -->

          ctx.moveTo(100+((450*3)/4)+450+450,250);
          ctx.lineTo(100+450+450+450,250);

          ctx.stroke();
          <!-- Reset Line features -->
          ctx.strokeStyle = '#000000';
          ctx.lineWidth = 1;  
        }

        if(pulsefunction[2] === '0' && pulsefunction[3] === '1')
        {
          ctx.strokeStyle = '#ff0000';
          ctx.moveTo(100+((450*3)/4),250);
          ctx.lineTo(100+((450*3)/4),205);
          ctx.lineWidth = 10;

          ctx.moveTo(100+((450*3)/4),205);
          ctx.lineTo(100+450,205);


          <!-- Period 2 -->

          ctx.moveTo(100+((450*3)/4)+450,250);
          ctx.lineTo(100+((450*3)/4)+450,205);

          ctx.moveTo(100+((450*3)/4)+450,205);
          ctx.lineTo(100+450+450,205);

          <!-- Period 3 -->

          ctx.moveTo(100+((450*3)/4)+450+450,250);
          ctx.lineTo(100+((450*3)/4)+450+450,205);

          ctx.moveTo(100+((450*3)/4)+450+450,205);
          ctx.lineTo(100+450+450+450,205);

          ctx.stroke();
          <!-- Reset Line features -->
          ctx.strokeStyle = '#000000';
          ctx.lineWidth = 1;  
        }

        if(pulsefunction[2] === '1' && pulsefunction[3] === '0')
        {
          ctx.strokeStyle = '#ff0000';
          ctx.moveTo(100+((450*3)/4),205);
          ctx.lineTo(100+((450*3)/4),250);
          ctx.lineWidth = 10;

          ctx.moveTo(100+((450*3)/4),250);
          ctx.lineTo(100+450,250);


          <!-- Period 2 -->

          ctx.moveTo(100+((450*3)/4)+450,205);
          ctx.lineTo(100+((450*3)/4)+450,250);

          ctx.moveTo(100+((450*3)/4)+450,250);
          ctx.lineTo(100+450+450,250);

          <!-- Period 3 -->

          ctx.moveTo(100+((450*3)/4)+450+450,205);
          ctx.lineTo(100+((450*3)/4)+450+450,250);

          ctx.moveTo(100+((450*3)/4)+450+450,250);
          ctx.lineTo(100+450+450+450,250);

          ctx.stroke();
          <!-- Reset Line features -->
          ctx.strokeStyle = '#000000';
          ctx.lineWidth = 1;  
        }

        if(pulsefunction[2] === '1' && pulsefunction[3] === '1')
        {
          ctx.strokeStyle = '#ff0000';
          ctx.moveTo(100+((450*3)/4),205);
          ctx.lineTo(100+450,205);
          ctx.lineWidth = 10;


          <!-- Period 2 -->

          ctx.moveTo(100+((450*3)/4)+450,205);
          ctx.lineTo(100+450+450,205);

          <!-- Period 3 -->

          ctx.moveTo(100+((450*3)/4)+450+450,205);
          ctx.lineTo(100+450+450+450,205);

          ctx.stroke();
          <!-- Reset Line features -->
          ctx.strokeStyle = '#000000';
          ctx.lineWidth = 1;  
        }

        <!-- Wrap Around from bit 4 to bit 1 -->

        if(pulsefunction[3] === '0' && pulsefunction[0] === '1')
        {
          ctx.strokeStyle = '#ff0000';
          ctx.moveTo(100+450,250);
          ctx.lineTo(100+450,205);
          ctx.lineWidth = 10;


          <!-- Period 2 -->

          ctx.moveTo(100+450+450,250);
          ctx.lineTo(100+450+450,205);

          <!-- Period 3 -->

          ctx.moveTo(100+450+450+450,250);
          ctx.lineTo(100+450+450+450,205);

          ctx.stroke();
          <!-- Reset Line features -->
          ctx.strokeStyle = '#000000';
          ctx.lineWidth = 1;  
        }

        if(pulsefunction[3] === '1' && pulsefunction[0] === '0')
        {
          ctx.strokeStyle = '#ff0000';
          ctx.moveTo(100+450,205);
          ctx.lineTo(100+450,250);
          ctx.lineWidth = 10;



          <!-- Period 2 -->

          ctx.moveTo(100+450+450,205);
          ctx.lineTo(100+450+450,250);

          <!-- Period 3 -->

          ctx.moveTo(100+450+450+450,205);
          ctx.lineTo(100+450+450+450,250);

          ctx.stroke();
          <!-- Reset Line features -->
          ctx.strokeStyle = '#000000';
          ctx.lineWidth = 1;  
        }

        <!-- End of Square Wave drawing -->
        
        
        <!-- This is where the points must be drawn!!!  -->
        <!-- This section of the program will plot the points for the Fourier Series! -->
        <!-- For sake of simplicity I'm going to hold off on the "0000" and "1111" waves -->

        
        //We need a robust way to calculate the integrals for the fourier coefficients
        
        //a_0 = (1/(2*Math.PI)) * Integral {0,2*Math.PI}, we should do it seperately for each interval (pi/2 intervals)
        // Since we know that the input must be scalar we know the integral of this function:
        //a_0 = (1/(2*Math.PI)) * t {0,2*Math.PI} or
        //a_0 = (1/(2*Math.PI)) * [ s*t {0,pi/2} + s*t {pi/2,pi} + s*t {pi,3pi/2} + s*t {3pi/2,2pi} 
        
        //Upper limit - Lower limit
        
        //General Form for a_0 START ************************************
        
        function a_0(upper,lower,s){ //s is whatever the user entered in for that upper/lower range
          var t = upper - lower;
          return s*t;
        }
        
        var a0 = 0;
        
        //a0 = a0/4; //a_0 coefficient is simply the average from 0 to 2pi!
        
        //General Form for a_0  END ************************************
        
        //General Form for a_n  START ************************************
        
        //No matter what the scenario, the integral always comes out the same. I will provide my handcalculations if necessary.
        function a_n(upper,lower,s,n){
          upper = (Math.sin(upper*n));
          lower = (Math.sin(lower*n));
          return ((upper-lower)*s)/(Math.PI*n);
        }
        
        var aN = 0;
        
        //General Form for a_n  END ************************************
        
        //General Form for b_n  START ************************************
        
        function b_n(upper,lower,s,n){//Same as a_n but now its cos instead of sin from handcalculations
          upper = (Math.cos(upper*n));
          lower = (Math.cos(lower*n));
          return ((upper-lower)*s)/(Math.PI*n);
        }
        
        
        var bN = 0;
        
        
        //General Form for b_n END **************************************
        
        //Overall f(t) = a_0 + a_n*cos(n*t) + b_n*sin(n*t)
        //Now we can combine all three for loops into one just below this line for simplicity:
        
        
        var p = 0;
        var y = 0;
        var z = 0;
        var m = 0;
        n = parseInt(n);
        
        
        for(m=0; m<pulsearray.length; m++){
           a0 += parseInt(pulsearray[m]); //a_0 portion
        }
        
        
        for(p = 0; p<1350; p++){
            for(z = 0; z<n; z++){ //Include n number of terms in the fourier series expansion
              for(i = 0; i < pulsearray.length; i++){
                
                
                if(i === 0){//a_n portion
                  aN += a_n(Math.PI/2,0,parseInt(pulsearray[i]),(z+1)); //Z will behave like our n just like before
                }
                if(i === 1){
                  aN += a_n(Math.PI,Math.PI/2,parseInt(pulsearray[i]),(z+1)); //Same for next pi/2 interval
                }
                if(i === 2){
                  aN += a_n(3*Math.PI/2,Math.PI,parseInt(pulsearray[i]),(z+1));
                }
                if(i === 3){
                  aN += a_n(2*Math.PI,3*Math.PI/2,parseInt(pulsearray[i]),(z+1));
                }
                
                
                if(i === 0){//b_n portion
                  bN += a_n(Math.PI/2,0,parseInt(pulsearray[i]),(z+1)); //Z will behave like our n just like before
                }
                if(i === 1){
                  bN += a_n(Math.PI,Math.PI/2,parseInt(pulsearray[i]),(z+1)); //Same for next pi/2 interval
                }
                if(i === 2){
                  bN += a_n(3*Math.PI/2,Math.PI,parseInt(pulsearray[i]),(z+1));
                }
                if(i === 3){
                  bN += a_n(2*Math.PI,3*Math.PI/2,parseInt(pulsearray[i]),(z+1));
                }
                
              }
            }
            
            //At this very point in time we have a_0, a_n, and b_n, so for every point p, we need to calculate f(t) same as before...
            y = (a0/4) + aN*Math.cos((z+1)*(p+1)*(Math.PI/225)) + bN*Math.sin((z+1)*(p+1)*(Math.PI/225));
            //Plot the point and reset stuff that needs to be reset
            

            var y_pos = ( ( (max-0)/(480-250) ) * y ) + 250;//This y scale converter should provide the proper canvas point y position for the point placement 

            ctx.fillRect(100 + 1*(p+1),y_pos,3,3); //Shift 1 pixel every point for 1350 total points. We need a y scale converter though...
            ctx.stroke();
            
            //a0 = 0
            aN = 0
            bN = 0
         }
        
        var test = a_n(Math.PI/2,0,parseInt(pulsearray[i]),1);
        
        ctx.fillRect(100,100,5,5);
        ctx.fillText(test,10,60);
        
        //To develop the y scale converter we need to know the position of the Max/Min element (This should be at the very top and/or very bottom of the y axis)
        //Max y coordinate: 20  Min y coordinate: 480, so we should have 3 points really, Max, Min, center
        //Center y coordinate: 250
        
        // (max,480) , (0,250)
        //We can make a line like last time with 2 points the y intercept and the max for simplicity:
        //y = mx + b
        //b = 250
        //m = (max-0)/(480-250)
        //y = ( (max-0) )/ (480-250) * y_ + 250
        
        
        
        
        
        var z = 0;
        var y_pos = 250;
        var x_pos = 145;

        var ft = 1/4;

        if(pulsefunction === "0001"){
          var p = 0;

          var a_n = 0;

          var b_n = 0;

          for(p=0; p<1350; p++){
            ft = 1/4; <!-- Each point starts with the a_0 term -->
            <!-- This point should be the first point of the 5 term expansion -->
            for(z = 0; z<n; z++){
              a_n = ( Math.sin( (z+1) * 3*Math.PI / 2 ) / (-(z+1) * Math.PI) );

              b_n = ( Math.cos(2*Math.PI * (z+1) ) - Math.cos( (z+1) * 3*Math.PI/2 ) ) / ( - (z+1) * Math.PI );

              ft += a_n * Math.cos((z+1) * (p+1) * (Math.PI/225) ) + b_n * Math.sin( (z+1) * (p+1) * (Math.PI/225) );
            }

            y_pos = -57.5*ft + 250; <!-- This should give us the proper y position for our point, this may have some syntax issues -->

            ctx.strokeStyle = '#ffff00';

            ctx.lineWidth = 10;

            ctx.fillRect(100 + 1*(p+1),y_pos,3,3);

            ctx.stroke();

          }

        }



        if(pulsefunction === "0010"){

          var p = 0;

          var a_n = 0;

          var b_n = 0;

          for(p=0; p<1350; p++){
            ft = 1/4; <!-- Each point starts with the a_0 term -->
            <!-- This point should be the first point of the 5 term expansion -->
            for(z = 0; z<n; z++){
              a_n = ( (Math.sin( (z+1) * 3*Math.PI / 2)  -  Math.sin( (z+1) * Math.PI) ) / ((z+1) * Math.PI) );

              b_n = ( Math.cos( (3*Math.PI/2) * (z+1) ) - Math.cos( (z+1) * Math.PI ) ) / ( - (z+1) * Math.PI );

              ft += a_n * Math.cos((z+1) * (p+1) * (Math.PI/225) ) + b_n * Math.sin( (z+1) * (p+1) * (Math.PI/225) );
            }

            y_pos = -57.5*ft + 250; <!-- This should give us the proper y position for our point, this may have some syntax issues -->

            //ctx.strokeStyle = '#ffff00';

            //ctx.lineWidth = 10;

            ctx.fillRect(100 + 1*(p+1),y_pos,3,3);

            ctx.stroke();

          }

        }

        if(pulsefunction === "0011"){//Instead of "0011" how about "0023"

          var p = 0;

          var a_n = 0;

          var b_n = 0;

          for(p=0; p<1350; p++){
            ft = 1/2; <!-- Each point starts with the a_0 term -->
            <!-- This point should be the first point of the 5 term expansion -->
            for(z = 0; z<n; z++){
              a_n = ( (Math.sin( (z+1) * 2*Math.PI)  -  Math.sin( (z+1) * Math.PI) ) / ((z+1) * Math.PI) );

              b_n = ( Math.cos( 2*Math.PI * (z+1) ) - Math.cos( (z+1) * Math.PI ) ) / ( - (z+1) * Math.PI );

              ft += a_n * Math.cos((z+1) * (p+1) * (Math.PI/225) ) + b_n * Math.sin( (z+1) * (p+1) * (Math.PI/225) );
            }

            y_pos = -57.5*ft + 250; <!-- This should give us the proper y position for our point, this may have some syntax issues -->

            //ctx.strokeStyle = '#ffff00';

            //ctx.lineWidth = 10;

            ctx.fillRect(100 + 1*(p+1),y_pos,3,3);

            ctx.stroke();

          }

        }

        if(pulsefunction === "0100"){

          var p = 0;

          var a_n = 0;

          var b_n = 0;

          for(p=0; p<1350; p++){
            ft = 1/4; <!-- Each point starts with the a_0 term -->
            <!-- This point should be the first point of the 5 term expansion -->
            for(z = 0; z<n; z++){
              a_n = ( (Math.sin( (z+1) * Math.PI)  -  Math.sin( (z+1) * Math.PI/2) ) / ((z+1) * Math.PI) );

              b_n = ( Math.cos( Math.PI * (z+1) ) - Math.cos( (z+1) * Math.PI/2 ) ) / ( - (z+1) * Math.PI );

              ft += a_n * Math.cos((z+1) * (p+1) * (Math.PI/225) ) + b_n * Math.sin( (z+1) * (p+1) * (Math.PI/225) );
            }

            y_pos = -57.5*ft + 250; <!-- This should give us the proper y position for our point, this may have some syntax issues -->


            ctx.fillRect(100 + 1*(p+1),y_pos,3,3);

            ctx.stroke();

          }

        }


        if(pulsefunction === "0101"){

          var p = 0;

          var a_n = 0;

          var b_n = 0;

          for(p=0; p<1350; p++){
            ft = 1/2; <!-- Each point starts with the a_0 term -->
            <!-- This point should be the first point of the 5 term expansion -->
            for(z = 0; z<n; z++){

              var a_n_1 = ( Math.sin( (z+1) * Math.PI ) - Math.sin( (z+1) * Math.PI/2 ) ) / ( (z+1) * Math.PI );
              var a_n_2 = ( Math.sin( (z+1) * 2 * Math.PI ) - Math.sin( (z+1) * 3 * Math.PI/2 ) ) / ( (z+1) * Math.PI );

              var b_n_1 = ( Math.cos( (z+1) * Math.PI ) - Math.cos( (z+1) * Math.PI/2 ) ) / ( -1 * (z+1) * Math.PI );
              var b_n_2 = ( Math.cos( (z+1) * 2 * Math.PI ) - Math.cos( (z+1) * 3 * Math.PI/2 ) ) / ( -1 * (z+1) * Math.PI );

              a_n = a_n_1 + a_n_2;

              b_n = b_n_1 + b_n_2;

              ft += a_n * Math.cos((z+1) * (p+1) * (Math.PI/225) ) + b_n * Math.sin( (z+1) * (p+1) * (Math.PI/225) );


            }

            y_pos = -57.5*ft + 250; <!-- This should give us the proper y position for our point, this may have some syntax issues -->


            ctx.fillRect(100 + 1*(p+1),y_pos,3,3);

            ctx.stroke();

          }

        }


        if(pulsefunction === "0110"){

          var p = 0;

          var a_n = 0;

          var b_n = 0;

          for(p=0; p<1350; p++){
            ft = 1/2; <!-- Each point starts with the a_0 term -->
            <!-- This point should be the first point of the 5 term expansion -->
            for(z = 0; z<n; z++){

              a_n = ( Math.sin( (z+1) * 3 * Math.PI/2 ) - Math.sin( (z+1) * Math.PI/2 ) ) / ( (z+1) * Math.PI );

              b_n = ( Math.cos( (z+1) * 3 * Math.PI/2 ) - Math.cos( (z+1) * Math.PI/2 ) ) / ( -1 * (z+1) * Math.PI );

              ft += a_n * Math.cos((z+1) * (p+1) * (Math.PI/225) ) + b_n * Math.sin( (z+1) * (p+1) * (Math.PI/225) );

            }

            y_pos = -57.5*ft + 250; <!-- This should give us the proper y position for our point, this may have some syntax issues -->


            ctx.fillRect(100 + 1*(p+1),y_pos,3,3);

            ctx.stroke();

          }

        }

        if(pulsefunction === "0111"){

          var p = 0;

          var a_n = 0;

          var b_n = 0;

          for(p=0; p<1350; p++){
            ft = 3/4; <!-- Each point starts with the a_0 term -->
            <!-- This point should be the first point of the 5 term expansion -->
            for(z = 0; z<n; z++){

              a_n = ( Math.sin( (z+1) * 2 * Math.PI ) - Math.sin( (z+1) * Math.PI/2 ) ) / ( (z+1) * Math.PI );

              b_n = ( Math.cos( (z+1) * 2 * Math.PI ) - Math.cos( (z+1) * Math.PI/2 ) ) / ( -1 * (z+1) * Math.PI );

              ft += a_n * Math.cos((z+1) * (p+1) * (Math.PI/225) ) + b_n * Math.sin( (z+1) * (p+1) * (Math.PI/225) );

            }

            y_pos = -57.5*ft + 250; <!-- This should give us the proper y position for our point, this may have some syntax issues -->

            //ctx.strokeStyle = '#ffff00';

            //ctx.lineWidth = 10;

            ctx.fillRect(100 + 1*(p+1),y_pos,3,3);

            ctx.stroke();

          }

        }

        if(pulsefunction === "1000"){

          var p = 0;

          var a_n = 0;

          var b_n = 0;

          for(p=0; p<1350; p++){
            ft = 1/4; <!-- Each point starts with the a_0 term -->
            <!-- This point should be the first point of the 5 term expansion -->
            for(z = 0; z<n; z++){

              a_n = ( Math.sin( (z+1) * Math.PI/2 ) - Math.sin( (z+1) * 0 ) ) / ( (z+1) * Math.PI );

              b_n = ( Math.cos( (z+1) * Math.PI/2 ) - Math.cos( (z+1) * 0 ) ) / ( -1 * (z+1) * Math.PI );

              ft += a_n * Math.cos((z+1) * (p+1) * (Math.PI/225) ) + b_n * Math.sin( (z+1) * (p+1) * (Math.PI/225) );

            }

            y_pos = -57.5*ft + 250; <!-- This should give us the proper y position for our point, this may have some syntax issues -->

            //ctx.strokeStyle = '#ffff00';

            //ctx.lineWidth = 10;

            ctx.fillRect(100 + 1*(p+1),y_pos,3,3);

            ctx.stroke();

          }

        }

        if(pulsefunction === "1001"){

          var p = 0;

          var a_n = 0;

          var b_n = 0;

          for(p=0; p<1350; p++){
            ft = 1/2; <!-- Each point starts with the a_0 term -->
            <!-- This point should be the first point of the 5 term expansion -->
            for(z = 0; z<n; z++){

              a_n = (  ( Math.sin( (z+1) * Math.PI/2 ) - Math.sin( (z+1) * 0 ) ) / ( (z+1) * Math.PI )  ) + (  ( Math.sin( (z+1) * 2 * Math.PI ) - Math.sin( (z+1) * 3 * Math.PI/2 ) ) / ( (z+1) * Math.PI )  );

              b_n = (  ( Math.cos( (z+1) * Math.PI/2 ) - Math.cos( (z+1) * 0 ) ) / ( -1 * (z+1) * Math.PI )  ) + (  ( Math.cos( (z+1) * 2 * Math.PI ) - Math.cos( (z+1) * 3 * Math.PI/2 ) ) / ( -1 * (z+1) * Math.PI )  );

              ft += a_n * Math.cos((z+1) * (p+1) * (Math.PI/225) ) + b_n * Math.sin( (z+1) * (p+1) * (Math.PI/225) );

            }

            y_pos = -57.5*ft + 250; <!-- This should give us the proper y position for our point, this may have some syntax issues -->

            //ctx.strokeStyle = '#ffff00';

            //ctx.lineWidth = 10;

            ctx.fillRect(100 + 1*(p+1),y_pos,3,3);

            ctx.stroke();

          }

        }

        if(pulsefunction === "1010"){

          var p = 0;

          var a_n = 0;

          var b_n = 0;

          for(p=0; p<1350; p++){
            ft = 1/2; <!-- Each point starts with the a_0 term -->
            <!-- This point should be the first point of the 5 term expansion -->
            for(z = 0; z<n; z++){

              a_n = (  ( Math.sin( (z+1) * Math.PI/2 ) - Math.sin( (z+1) * 0 ) ) / ( (z+1) * Math.PI )  ) + (  ( Math.sin( (z+1) * 3 * Math.PI/2 ) - Math.sin( (z+1) * Math.PI ) ) / ( (z+1) * Math.PI )  );

              b_n = (  ( Math.cos( (z+1) * Math.PI/2 ) - Math.cos( (z+1) * 0 ) ) / ( -1 * (z+1) * Math.PI )  ) + (  ( Math.cos( (z+1) * 3 * Math.PI/2 ) - Math.cos( (z+1) * Math.PI ) ) / ( -1 * (z+1) * Math.PI )  );

              ft += a_n * Math.cos((z+1) * (p+1) * (Math.PI/225) ) + b_n * Math.sin( (z+1) * (p+1) * (Math.PI/225) );

            }

            y_pos = -57.5*ft + 250; <!-- This should give us the proper y position for our point, this may have some syntax issues -->

            //ctx.strokeStyle = '#ffff00';

            //ctx.lineWidth = 10;

            ctx.fillRect(100 + 1*(p+1),y_pos,3,3);

            ctx.stroke();

          }

        }

        if(pulsefunction === "1011"){

          var p = 0;

          var a_n = 0;

          var b_n = 0;

          for(p=0; p<1350; p++){
            ft = 3/4; <!-- Each point starts with the a_0 term -->
            <!-- This point should be the first point of the 5 term expansion -->
            for(z = 0; z<n; z++){

              a_n = (  ( Math.sin( (z+1) * Math.PI/2 ) - Math.sin( (z+1) * 0 ) ) / ( (z+1) * Math.PI )  ) + (  ( Math.sin( (z+1) * 2 * Math.PI ) - Math.sin( (z+1) * Math.PI ) ) / ( (z+1) * Math.PI )  );

              b_n = (  ( Math.cos( (z+1) * Math.PI/2 ) - Math.cos( (z+1) * 0 ) ) / ( -1 * (z+1) * Math.PI )  ) + (  ( Math.cos( (z+1) * 2 * Math.PI ) - Math.cos( (z+1) * Math.PI ) ) / ( -1 * (z+1) * Math.PI )  );

              ft += a_n * Math.cos((z+1) * (p+1) * (Math.PI/225) ) + b_n * Math.sin( (z+1) * (p+1) * (Math.PI/225) );

            }

            y_pos = -57.5*ft + 250; <!-- This should give us the proper y position for our point, this may have some syntax issues -->

            //ctx.strokeStyle = '#ffff00';

            //ctx.lineWidth = 10;

            ctx.fillRect(100 + 1*(p+1),y_pos,3,3);

            ctx.stroke();

          }

        }

        if(pulsefunction === "1100"){

          var p = 0;

          var a_n = 0;

          var b_n = 0;

          for(p=0; p<1350; p++){
            ft = 1/2; <!-- Each point starts with the a_0 term -->
            <!-- This point should be the first point of the 5 term expansion -->
            for(z = 0; z<n; z++){

              a_n = (  ( Math.sin( (z+1) * Math.PI ) - Math.sin( (z+1) * 0 ) ) / ( (z+1) * Math.PI )  );

              b_n = (  ( Math.cos( (z+1) * Math.PI ) - Math.cos( (z+1) * 0 ) ) / ( -1 * (z+1) * Math.PI )  );

              ft += a_n * Math.cos((z+1) * (p+1) * (Math.PI/225) ) + b_n * Math.sin( (z+1) * (p+1) * (Math.PI/225) );

            }

            y_pos = -57.5*ft + 250; <!-- This should give us the proper y position for our point, this may have some syntax issues -->

            //ctx.strokeStyle = '#ffff00';

            //ctx.lineWidth = 10;

            ctx.fillRect(100 + 1*(p+1),y_pos,3,3);

            ctx.stroke();

          }

        }

        if(pulsefunction === "1101"){

          var p = 0;

          var a_n = 0;

          var b_n = 0;

          for(p=0; p<1350; p++){
            ft = 3/4; <!-- Each point starts with the a_0 term -->
            <!-- This point should be the first point of the 5 term expansion -->
            for(z = 0; z<n; z++){

              a_n = (  ( Math.sin( (z+1) * Math.PI ) - Math.sin( (z+1) * 0 ) ) / ( (z+1) * Math.PI )  ) + (  ( Math.sin( (z+1) * 2 * Math.PI ) - Math.sin( (z+1) * 3 * Math.PI/2 ) ) / ( (z+1) * Math.PI )  );

              b_n = (  ( Math.cos( (z+1) * Math.PI ) - Math.cos( (z+1) * 0 ) ) / ( -1 * (z+1) * Math.PI )  ) + (  ( Math.cos( (z+1) * 2 * Math.PI ) - Math.cos( (z+1) * 3 * Math.PI/2 ) ) / ( -1 * (z+1) * Math.PI )  );

              ft += a_n * Math.cos((z+1) * (p+1) * (Math.PI/225) ) + b_n * Math.sin( (z+1) * (p+1) * (Math.PI/225) );

            }

            y_pos = -57.5*ft + 250; <!-- This should give us the proper y position for our point, this may have some syntax issues -->

            //ctx.strokeStyle = '#ffff00';

            //ctx.lineWidth = 10;

            ctx.fillRect(100 + 1*(p+1),y_pos,3,3);

            ctx.stroke();

          }

        }

        if(pulsefunction === "1110"){

          var p = 0;

          var a_n = 0;

          var b_n = 0;

          for(p=0; p<1350; p++){
            ft = 3/4; <!-- Each point starts with the a_0 term -->
            <!-- This point should be the first point of the 5 term expansion -->
            for(z = 0; z<n; z++){

              a_n = (  ( Math.sin( (z+1) * 3 * Math.PI/2 ) - Math.sin( (z+1) * 0 ) ) / ( (z+1) * Math.PI )  );

              b_n = (  ( Math.cos( (z+1) * 3 * Math.PI/2 ) - Math.cos( (z+1) * 0 ) ) / ( -1 * (z+1) * Math.PI )  );

              ft += a_n * Math.cos((z+1) * (p+1) * (Math.PI/225) ) + b_n * Math.sin( (z+1) * (p+1) * (Math.PI/225) );

            }

            y_pos = -57.5*ft + 250; <!-- This should give us the proper y position for our point, this may have some syntax issues -->

            //ctx.strokeStyle = '#ffff00';

            //ctx.lineWidth = 10;

            ctx.fillRect(100 + 1*(p+1),y_pos,3,3);

            ctx.stroke();

          }

        }

        if(pulsefunction === "1111"){

          var p = 0;

          var a_n = 0;

          var b_n = 0;

          for(p=0; p<1350; p++){
            ft = 1; <!-- Each point starts with the a_0 term -->
            <!-- This point should be the first point of the 5 term expansion -->
            for(z = 0; z<n; z++){

              a_n = (  ( Math.sin( (z+1) * 2 * Math.PI ) - Math.sin( (z+1) * 0 ) ) / ( (z+1) * Math.PI )  );

              b_n = (  ( Math.cos( (z+1) * 2 * Math.PI ) - Math.cos( (z+1) * 0 ) ) / ( -1 * (z+1) * Math.PI )  );

              ft += a_n * Math.cos((z+1) * (p+1) * (Math.PI/225) ) + b_n * Math.sin( (z+1) * (p+1) * (Math.PI/225) );

            }

            y_pos = -57.5*ft + 250; <!-- This should give us the proper y position for our point, this may have some syntax issues -->

            //ctx.strokeStyle = '#ffff00';

            //ctx.lineWidth = 10;

            ctx.fillRect(100 + 1*(p+1),y_pos,3,3);

            ctx.stroke();

          }

        }

        
        <!-- This is the end of the fourier series expansion section -->
        

        <!-- So this means that each interval is in 450 pixels, so the text will look like pi/2 , 2pi/2, 3pi/2, ... until 12pi/2 -->

        ctx.font = "15px Courier New";

        <!-- From 0 to 2pi -->

        ctx.fillText("pi/2",50+(450/4),280);
        ctx.fillText("2pi/2",50+(450/2),280);
        ctx.fillText("3pi/2",50+((450*3)/4),280);
        ctx.fillText("4pi/2",50+450,280);

        <!-- From 2pi to 4pi -->

        ctx.fillText("5pi/2",50+(450/4)+450,280);
        ctx.fillText("6pi/2",50+(450/2)+450,280);
        ctx.fillText("7pi/2",50+((450*3)/4)+450,280);
        ctx.fillText("8pi/2",50+900,280);

        <!-- From 4pi to 6pi -->

        ctx.fillText("9pi/2",50+(450/4)+900,280);
        ctx.fillText("10pi/2",50+(450/2)+900,280);
        ctx.fillText("11pi/2",50+((450*3)/4)+900,280);
        ctx.fillText("12pi/2",50+1350,280);


        <!-- Y-axis scale -->
        ctx.fillText(max, 90, 20);
        ctx.fillText("0", 90, 280);

        <!-- End of Y-axis creation -->
        
        <!-- Draw new axis for both graphs -->
        
        <!-- New x-axis -->
        
        ctx.moveTo(50,250);
        ctx.lineTo(1400,250); <!-- The total x-axis distance is from 1400-50 = 1350. If we want 3 periods we want to to take intervals of 1350/3 = 450 -->
        ctx.stroke();
        
        <!-- End new x-axis -->
      
        ctx.moveTo(100,20);
        ctx.lineTo(100,480); <!-- The total x-axis distance is from 1400-50 = 1350. If we want 3 periods we want to to take intervals of 1350/3 = 450 -->
        ctx.stroke();
        
        
        <!-- End of X-axis creation -->
        
        
        
      }
      
      
    </script>
  </head>
  <body>
    <div class="container" style = "position:fixed; left:500px; top: 500px;">
      <div class="box-1">
        <h1>Visualizing Fourier Coefficients</h1> <!-- This is the actual 'Title' of the page for the website -->
        <p>The top graph shows your provided square wave. And the bottom graph shows the fourier series with the provided number of coefficients.</p>
        <input type="text" placeholder="Enter pulsefunction here" id="pulse">
        <input type="text" placeholder="Enter a number of terms here" id="n">
        <button type="button" onclick="getInputValue();">Submit</button>
      </div>
    </div>
  </body>
</html>

